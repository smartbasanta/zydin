@utility btn {
    @apply inline-flex items-center justify-center gap-2 cursor-pointer;
    @apply px-5 py-2.5;
    @apply text-base font-semibold tracking-wide;
    @apply rounded-md;
    @apply transition-all duration-200 ease-in-out;

    @apply border-b-2;
    @apply shadow-sm;

    @apply focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-1100;

    @apply disabled:opacity-60 disabled:cursor-not-allowed;
    @apply disabled:bg-gray-100 dark:disabled:bg-gray-900;
    @apply disabled:text-gray-400 dark:disabled:text-gray-600;
    @apply disabled:border-gray-200 dark:disabled:border-gray-800;
    @apply disabled:shadow-none;

    @apply active:translate-y-px active:shadow-none;
}

.btn-primary {
    @apply bg-orange-600 text-orange-50;
    @apply border-b-orange-700;
    @apply hover:bg-orange-700;
    @apply hover:border-b-orange-800;
    @apply focus:ring-orange-600;

    @apply dark:bg-orange-700 dark:text-orange-50;
    @apply dark:border-b-orange-600;
    @apply dark:hover:bg-orange-600;
    @apply dark:hover:border-b-orange-500;
    @apply dark:focus:ring-orange-500;
}

.btn-info {
    @apply bg-blue-600 text-blue-50;
    @apply border-b-blue-700;
    @apply hover:bg-blue-700;
    @apply hover:border-b-blue-800;
    @apply focus:ring-blue-600;

    @apply dark:bg-blue-700 dark:text-blue-50;
    @apply dark:border-b-blue-600;
    @apply dark:hover:bg-blue-600;
    @apply dark:hover:border-b-blue-500;
    @apply dark:focus:ring-blue-500;
}

.btn-success {
    @apply bg-green-600 text-green-50;
    @apply border-b-green-700;
    @apply hover:bg-green-700;
    @apply hover:border-b-green-800;
    @apply focus:ring-green-600;

    @apply dark:bg-green-700 dark:text-green-50;
    @apply dark:border-b-green-600;
    @apply dark:hover:bg-green-600;
    @apply dark:hover:border-b-green-500;
    @apply dark:focus:ring-green-500;
}

.btn-destructive, .btn-danger {
    @apply bg-red-600 text-red-50;
    @apply border-b-red-700;
    @apply hover:bg-red-700;
    @apply hover:border-b-red-800;
    @apply focus:ring-red-600;

    @apply dark:bg-red-700 dark:text-red-50;
    @apply dark:border-b-red-600;
    @apply dark:hover:bg-red-600;
    @apply dark:hover:border-b-red-500;
    @apply dark:focus:ring-red-500;
}

.btn-secondary {
    @apply bg-white dark:bg-gray-900;
    @apply text-gray-800 dark:text-gray-200;
    @apply border border-gray-300 dark:border-gray-700; 
    @apply border-b-gray-400 dark:border-b-gray-600;
    @apply hover:bg-gray-50 dark:hover:bg-gray-800;
    @apply hover:border-b-gray-500 dark:hover:border-b-gray-700;
    @apply focus:ring-orange-500; 
}

.btn-secondary-border {
    @apply btn;
    @apply text-xs px-3 py-1.5;
    @apply bg-gray-200 dark:bg-gray-900;
    @apply text-gray-700 dark:text-gray-300;
    @apply border border-gray-300 dark:border-gray-700;
    @apply border-b-gray-400 dark:border-b-gray-700;
    @apply hover:bg-gray-300 dark:hover:bg-gray-800; 
    @apply hover:border-b-gray-500 dark:hover:border-b-gray-800; 
    @apply focus:ring-orange-500; 
}

.btn-ghost {
    @apply bg-transparent shadow-none;
    @apply text-gray-700 dark:text-gray-300;
    @apply border border-transparent; 
    @apply hover:bg-gray-100/70 dark:hover:bg-gray-900/70;
    @apply hover:shadow-sm;
    @apply focus:ring-orange-500;
    @apply active:translate-y-0 active:shadow-none;
}

.btn-outline {
    @apply bg-transparent;
    @apply text-orange-600 dark:text-orange-400;
    @apply border border-orange-600 dark:border-orange-500;
    @apply border-b-orange-700 dark:border-b-orange-600;
    @apply hover:bg-orange-50 dark:hover:bg-orange-950;
    @apply hover:border-orange-700 dark:hover:border-orange-400;
    @apply hover:border-b-orange-800 dark:hover:border-b-orange-500;
    @apply focus:ring-orange-500;
}

.btn-link {
    @apply bg-transparent shadow-none border-none; 
    @apply px-0 py-0;
    @apply text-orange-700 dark:text-orange-400;
    @apply underline underline-offset-4;
    @apply hover:text-orange-700 dark:hover:text-orange-300;
    @apply hover:no-underline; 
    @apply active:translate-y-0 active:shadow-none;
    @apply focus:ring-orange-500 rounded;
}

.btn-icon {
    @apply inline-flex items-center justify-center cursor-pointer;
    @apply size-10 p-0;
    @apply rounded-full; 
    @apply bg-gray-200 dark:bg-gray-800;
    @apply text-gray-700 dark:text-gray-300;
    @apply border-b-2 border-b-gray-300 dark:border-b-gray-700;
    @apply shadow-sm;
    @apply transition-all duration-200 ease-in-out;
    @apply hover:bg-gray-300 dark:hover:bg-gray-700;
    @apply hover:border-b-gray-400 dark:hover:border-b-gray-600;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-1100 focus:ring-orange-500;
    @apply active:translate-y-px active:shadow-none;
    @apply disabled:opacity-60 disabled:cursor-not-allowed disabled:bg-gray-100 dark:disabled:bg-gray-900 disabled:text-gray-400 dark:disabled:text-gray-600 disabled:border-gray-200 dark:disabled:border-gray-800 disabled:shadow-none;
}

/* --- Variations for .btn-icon --- */
.btn-icon.is-square {
    @apply rounded-md;
}

.btn-icon-primary {
    @apply bg-orange-600 text-white;
    @apply border-b-orange-700;
    @apply hover:bg-orange-700;
    @apply hover:border-b-orange-800;
    @apply focus:ring-orange-500;
}

.btn-toggle {
    @apply inline-flex items-center justify-center gap-2 cursor-pointer;
    @apply px-4 py-1.5;
    @apply text-sm font-medium;
    @apply rounded-full;
    @apply bg-gray-100 dark:bg-gray-900;
    @apply text-gray-700 dark:text-gray-300;
    @apply border border-gray-300 dark:border-gray-700;
    @apply transition-all duration-200 ease-in-out;
    @apply hover:bg-gray-200 dark:hover:bg-gray-800;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-1100 focus:ring-orange-500;
    @apply disabled:opacity-60 disabled:cursor-not-allowed disabled:bg-gray-100 dark:disabled:bg-gray-900 disabled:text-gray-400 dark:disabled:text-gray-600 disabled:border-gray-200 dark:disabled:border-gray-800;
    @apply shadow-none;
}

/* --- Toggle Active/Selected State --- */
.btn-toggle.is-active {
    @apply bg-orange-600 dark:bg-orange-600;
    @apply text-white;
    @apply border-orange-600 dark:border-orange-600;
    @apply hover:bg-orange-700 dark:hover:bg-orange-700;
    @apply hover:border-orange-700 dark:hover:border-orange-700;
}

/* --- Variations for .btn-toggle (e.g., themed active states) --- */
.btn-toggle.is-active-info {
    @apply bg-blue-600 dark:bg-blue-600;
    @apply text-white;
    @apply border-blue-600 dark:border-blue-600;
    @apply hover:bg-blue-700 dark:hover:bg-blue-700;
    @apply hover:border-blue-700 dark:hover:border-blue-700;
}

.btn-soft {
    @apply bg-orange-50/70 dark:bg-orange-950;
    @apply text-orange-700 dark:text-orange-300;
    @apply border border-orange-200 dark:border-orange-800;
    @apply border-b-orange-300 dark:border-b-orange-700; 
    @apply shadow-none;

    @apply hover:bg-orange-100 dark:hover:bg-orange-900;
    @apply hover:border-orange-300 dark:hover:border-orange-700;
    @apply hover:border-b-orange-400 dark:hover:border-b-orange-600;
    @apply focus:ring-orange-500;
    @apply active:translate-y-px active:shadow-none;
}

.btn-soft-info {
    @apply bg-blue-50/70 dark:bg-blue-950;
    @apply text-blue-700 dark:text-blue-300;
    @apply border border-blue-200 dark:border-blue-800;
    @apply border-b-blue-300 dark:border-b-blue-700;
    @apply hover:bg-blue-100 dark:hover:bg-blue-900;
    @apply hover:border-blue-300 dark:hover:border-blue-700;
    @apply hover:border-b-blue-400 dark:hover:border-b-blue-600;
    @apply focus:ring-blue-500;
}

.btn-soft-success {
    @apply bg-green-50/70 dark:bg-green-950;
    @apply text-green-700 dark:text-green-300;
    @apply border border-green-200 dark:border-green-800;
    @apply border-b-green-300 dark:border-b-green-700;
    @apply hover:bg-green-100 dark:hover:bg-green-900;
    @apply hover:border-green-300 dark:hover:border-green-700;
    @apply hover:border-b-green-400 dark:hover:border-b-green-600;
    @apply focus:ring-green-600;
}

.btn-soft-destructive {
    @apply bg-red-50/70 dark:bg-red-950;
    @apply text-red-700 dark:text-red-300;
    @apply border border-red-200 dark:border-red-800;
    @apply border-b-red-300 dark:border-b-red-700;
    @apply hover:bg-red-100 dark:hover:bg-red-900;
    @apply hover:border-red-300 dark:hover:border-red-700;
    @apply hover:border-b-red-400 dark:hover:border-b-red-600;
    @apply focus:ring-red-500;
}

.btn-ghost-outline {
    @apply bg-transparent shadow-none;
    @apply text-gray-700 dark:text-gray-300;
    @apply border border-transparent;
    @apply border-b-transparent;

    @apply hover:bg-gray-50/50 dark:hover:bg-gray-900/50;
    @apply hover:border-gray-200 dark:hover:border-gray-800; 
    @apply hover:border-b-gray-300 dark:hover:border-b-gray-700; 
    @apply focus:ring-orange-500;
    @apply active:translate-y-0 active:shadow-none; 
}

/* --- Themed Ghost Outline Buttons for icons) --- */
.btn-ghost-outline-primary {
    @apply text-orange-600 dark:text-orange-400;
    @apply hover:bg-orange-50/50 dark:hover:bg-orange-950/50;
    @apply hover:border-orange-200 dark:hover:border-orange-800;
    @apply hover:border-b-orange-300 dark:hover:border-b-orange-700;
    @apply focus:ring-orange-500;
}

.btn-ai {
    @apply btn;
    @apply bg-gradient-to-r from-purple-500 to-blue-500 text-white;
    @apply border-b-purple-600;
    @apply shadow-lg shadow-purple-500/50;
    @apply hover:from-purple-600 hover:to-blue-600;
    @apply hover:shadow-xl hover:shadow-purple-500/70;
    @apply focus:ring-purple-500;

    @apply dark:from-purple-600 dark:to-blue-600;
    @apply dark:border-b-purple-500;
    @apply dark:shadow-purple-500/60;
    @apply dark:hover:from-purple-700 dark:hover:to-blue-700;
    @apply dark:hover:shadow-purple-500/80;
    @apply dark:focus:ring-purple-400;
}

.pagination-button {
  @apply flex h-8 w-8 items-center justify-center rounded-full text-sm font-medium transition-all disabled:pointer-events-none cursor-pointer
    hover:bg-rose-100 hover:text-rose-700 dark:hover:bg-rose-500/20 dark:hover:text-rose-100
    focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 dark:focus-visible:ring-rose-500;
}
/*
=================================================================
Link Component Classes
=================================================================
*/
.link {
    @apply text-orange-600 dark:text-orange-400;
    @apply font-medium underline-offset-4;
    @apply hover:underline;
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-orange-500 rounded;
}












    /*
    =================================================================
    "Living Access Graph" Styles
    =================================================================
    */
    .graph-node {
        @apply relative flex items-center gap-4 p-3 rounded-lg cursor-pointer transition-all duration-300;
        @apply bg-gray-900/50 backdrop-blur-sm border border-gray-700/50;
        @apply hover:bg-gray-800/70 hover:border-gray-500 hover:scale-105;
    }
    
    /* When a node is active, it gets a bright border */
    .graph-node.active {
        @apply scale-105 border-2;
    }

    /* Dim inactive nodes */
    #access-graph-container.is-inspecting .graph-node:not(.active) {
        @apply opacity-30 scale-95;
    }
    
    /* Node type-specific styles */
    .user-node.active { @apply border-cyan-400; }
    .role-node.active { @apply border-orange-400; }
    .perm-node.active { @apply border-lime-400; }

    /* Node icon styles */
    .node-icon {
        @apply flex-shrink-0 grid place-content-center size-12 text-2xl rounded-lg border-2;
    }

    /* Special states based on your schema */
    .graph-node.expiring {
        @apply border-yellow-500/80 bg-yellow-900/30;
    }
    .graph-node.unused {
        @apply border-dashed border-gray-600 bg-gray-900/30 opacity-70;
    }
    
    /* Connection line styles */
    .connection-line {
        stroke-width: 2;
        stroke: #4b5563; /* gray-600 */
        opacity: 0.3;
        transition: all 0.3s ease-in-out;
    }
    #access-graph-container.is-inspecting .connection-line {
        opacity: 0.1;
    }
    .connection-line.active {
        opacity: 1;
        stroke-width: 3;
    }
    .connection-line.user-role { stroke: #67e8f9; /* cyan-300 */ }
    .connection-line.role-perm { stroke: #84cc16; /* lime-500 */ }